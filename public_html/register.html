<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/css/nav.css">


    <title>Register Class</title>

    <!-- Icon selection code -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#f69005">
    <meta name="theme-color" content="#fca631">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <head>

        <body onload = "initialize();">

            <div class="container">

                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHb_Ra7dl02OImTNyEnLoGek4IA5Ck84g" type="text/javascript"></script>
                <form class="form-horizontal">
                    <div class="col-sm-offset-2 col-sm-10">
                        <h3> Register a new class </h3><br><br>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="title">Class Title:</label>
                        <input class="form-control col-xs-10" id="title" type="text" name="title"><br>
                        <label class="control-label" for="desc">Description:</label>
                        <input class="form-control col-xs-10" id="desc" type="text" name="desc"><br>
                        <label class="control-label" for="title">Location:</label>
                        <div onload="initialize();" id="map" style="width: 500px; height: 400px;"></div>

                        <label class="control-label" for="instr">Class Instructor:</label>
                        <input class="form-control col-xs-10" id="instr" type="text" name="instr"><br>
                        <label class="control-label" for="phone">Phone:</label>
                        <input class="form-control col-xs-10" id="phone" type="text" name="phone"><br>
                        <label class="control-label" for="email">Email:</label>
                        <input class="form-control col-xs-10" id="email" type="text" name="email"><br>
                        <label class="control-label" for="web">Website:</label>
                        <input class="form-control col-xs-10" id="web" type="text" name="web"><br>
                        <label class="control-label" for="face">Facebook:</label>
                        <input class="form-control col-xs-10" id="face" type="text" name="face"><br>
                        <label class="control-label" for="tweet">Twitter:</label>
                        <input class="form-control col-xs-10" id="tweet" type="text" name="tweet"><br><br>
                        <div class="col-sm-offset-2">
                            <br><button type="submit" class="btn btn-default">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
       
 	<!--test compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="/css/nav.css">
        <link rel="stylesheet" href="/css/accountManagement.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!-- load jquery -->
        <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
        <!-- load firebase library -->
        <script src="/Js/initializeMap.js"></script>
        <script>
            // initialise firebase
            var config = {
                apiKey: "AIzaSyCHb_Ra7dl02OImTNyEnLoGek4IA5Ck84g"
                , authDomain: "bexel-ed8b3.firebaseapp.com"
                , databaseURL: "https://bexel-ed8b3.firebaseio.com"
                , storageBucket: "bexel-ed8b3.appspot.com"
                , messagingSenderId: "325793789014"
            };
            firebase.initializeApp(config);
        
            $(document).ready(function() { // load the function that moves you on if you already signed in.
                var user;
                var unsub = firebase.auth().onAuthStateChanged(function(user) { // create a listener to waits for firebase initialisation before attempting to get currentUser. 
                    user = firebase.auth().currentUser;
                    if (user) { //if logged in, move user to the homepage
                        initialise();
                    } else {ll
                        window.location = 'index';
                    }
                    unsub(); //unsub() here is used to listen on pageload for a user if one is found then move on, if not then stop listening as the return value of unsub() is 			the function to kill the listener.
                    //This is needed as the database connection becomes erratic for other function while listener is active.
                });


            });

        </script>
        <script type="text/javascript">
            function logOut() {
                firebase.auth().signOut();
                window.location = 'index';
            }

        </script>
 </body>
</html>
