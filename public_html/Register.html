<!DOCTYPE HTML>
<head>

	<title>Register Class</title>
	
	<meta charset="utf-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
    
	<!--test compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	

<head>
<body>
    <div class = "container">

	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHb_Ra7dl02OImTNyEnLoGek4IA5Ck84g" type="text/javascript"></script>
	<form class = "form-horizontal">
		<div class="col-sm-offset-2 col-sm-10">
			<h3> Register a new class </h3><br><br>
		</div>	
		  <div class = "form-group">
            <label class = "control-label" for= "title">Class Title:</label>
                <input class = "form-control col-xs-10" id ="title" type = "text" name="title"><br>
            <label class = "control-label" for= "desc">Description:</label>
                <input class = "form-control col-xs-10" id = "desc" type = "text" name="desc"><br>
			<label class = "control-label" for= "title">Location:</label>
				<div onload = "initialize();" id="map" style="width: 500px; height: 400px;"></div>

			<label class = "control-label" for= "instr">Class Instructor:</label>
				<input class = "form-control col-xs-10" id = "instr" type = "text" name="instr"><br>
			<label class = "control-label" for= "phone">Phone:</label>
				<input class = "form-control col-xs-10" id = "phone" type = "text" name="phone"><br>
			<label class = "control-label" for= "email">Email:</label>
				<input class = "form-control col-xs-10" id = "email" type = "text" name="email"><br>
			<label class = "control-label" for= "web">Website:</label>
				<input class = "form-control col-xs-10" id = "web" type = "text" name="web"><br>
			<label class = "control-label" for= "face">Facebook:</label>
				<input class = "form-control col-xs-10" id = "face" type = "text" name="face"><br>
			<label class = "control-label" for= "tweet">Twitter:</label>
				<input class = "form-control col-xs-10" id = "tweet" type = "text" name="tweet" ><br><br>
			<div class="col-sm-offset-2">
      		    <br><button type="submit" class="btn btn-default">Submit</button>
  			</div>
		  </div>
	   </form>
    </div>
</body>

<script>
var map;
var Latlng = new google.maps.LatLng(53.38914, -6.600050); //Default Location
var clickLat;
var clickLon;
var marker;


 function initialize() {

     var mapOptions = {
         zoom: 13,
         center: Latlng,
         mapTypeId: google.maps.MapTypeId.ROADMAP
     };
     var map = new google.maps.Map(document.getElementById('map'), mapOptions); //Create new map

     if (navigator.geolocation) {
         navigator.geolocation.getCurrentPosition(function (position) {
             initialLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude); //Get User location using GeoLocation API
             map.setCenter(initialLocation); // Refresh map to centre on user location
         });
		  		 
		 google.maps.event.addListener(map, 'click', function(event) {
			placeMarker(event.latLng);
		
			clickLat = event.latLng.lat();
			clickLon = event.latLng.lng();
			
		});

		function placeMarker(location) {
			if(!marker){
				marker = new google.maps.Marker({
					position: location, 
					map: map
				});
			}
			else{
				marker.setPosition(location);
			}
		}
     }
 }
 initialize();
//TODO add database submit query



</script>
     <script type="text/javascript">
            window.onload = function() {

            
            function watchLogin() {

                firebase.auth().onAuthStateChanged(function(user) {
                    if (!user) {
                        window.location = '/index';
                    }
                });
            }
            }

        </script>



