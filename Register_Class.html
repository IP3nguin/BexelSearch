<!DOCTYPE HTML>
<head>

	<title>Register Class</title>
	
	<meta charset="utf-8">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--test compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	

<head>
<body onload = "initialize()">

	<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
	<form class = "form-horizontal">
		<div class="col-sm-offset-2 col-sm-10">
			<h3> Register a new class </h3></br></br>
		</div>	
		<div class = "form-group">
			<label class = "control-label col-sm-2" for= "title">Class Title:</label>
				<input id ="title" type = "text" name="title"></br>
			<label class = "control-label col-sm-2" for= "desc">Description:</label>
				<input id = "desc" type = "text" name="desc"></br>
			<label class = "control-label col-sm-2" for= "title">Location:</label>
				<div id="map" style="width: 500px; height: 400px;"></div>

			<label class = "control-label col-sm-2" for= "instr">Class Instructor:</label>
				<input id = "instr" type = "text" name="instr"></br>
			<label class = "control-label col-sm-2" for= "phone">Phone:</label>
				<input id = "phone" type = "text" name="phone"></br>
			<label class = "control-label col-sm-2" for= "email">Email:</label>
				<input id = "email" type = "text" name="email"></br>
			<label class = "control-label col-sm-2" for= "web">Website:</label>
				<input id = "web" type = "text" name="web"></br>
			<label class = "control-label col-sm-2" for= "face">Facebook:</label>
				<input id = "face" type = "text" name="face"></br>
			<label class = "control-label col-sm-2" for= "tweet">Twitter:</label>
				<input id = tweet" type = "text" name="tweet"></br></br>
			<div class="col-sm-offset-2 col-sm-10">
      				<button type="submit" class="btn btn-default">Submit</button>
  			</div>
		</div>
	</form>

<script>
var map;
var Latlng = new google.maps.LatLng(53.38914, -6.600050); //Default Location
var clickLat;
var clickLon;
var marker;


 function initialize() {

     var mapOptions = {
         zoom: 13,
         center: Latlng,
         mapTypeId: google.maps.MapTypeId.ROADMAP
     };
     var map = new google.maps.Map(document.getElementById('map'), mapOptions); //Create new map

     if (navigator.geolocation) {
         navigator.geolocation.getCurrentPosition(function (position) {
             initialLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude); //Get User location using GeoLocation API
             map.setCenter(initialLocation); // Refresh map to centre on user location
         });
		  		 
		 google.maps.event.addListener(map, 'click', function(event) {
			placeMarker(event.latLng);
		
			clickLat = event.latLng.lat();
			clickLon = event.latLng.lng();
			
		});

		function placeMarker(location) {
			if(!marker){
				marker = new google.maps.Marker({
					position: location, 
					map: map
				});
			}
			else{
				marker.setPosition(location);
			}
		}
     }
 }
 initialize();
//TODO add database submit query



</script>


</body>
